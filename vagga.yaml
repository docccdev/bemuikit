containers:
    frontend:
      environ:
        NODE_PATH: /usr/lib/node_modules
      setup:
      - !UbuntuRelease { codename: trusty }
      - !Install [ca-certificates, apt-transport-https]
      - !AptTrust
        keys: [1655A0AB68576280]
      - !UbuntuRepo
        url: https://deb.nodesource.com/node_6.x
        suite: trusty
        components: [main]
      - !Install [nodejs]
      - !NpmConfig
        install-node: false
      - !NpmDependencies
        package: true
        dev: true
        optional: true

commands:
  build: !Command
    description: Run build
    container: frontend
    run: |
      gulp compile_uikit
      gulp compile_doc_css
      gulp copy_template_root_dir
      gulp compile_doc

  watch: !Command
    description: Run watch *.md
    container: frontend
    run: |
      gulp watch

  deploy: !Command
    description: Run deploy
    container: frontend
    run: |
      gulp deploy
